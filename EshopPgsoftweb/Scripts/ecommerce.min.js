function ecClearSessionData(){$.ajax("/Umbraco/Ecommerce/EcommerceApi/ClearSessionData",{type:"POST",success:function(){}})}function ecInitDeliveryAddress(){$(".cb-delivery-address").is(":checked")&&$(".delivery-address").removeClass("hidden");$(".cb-delivery-address").change(function(){this.checked?$(".delivery-address").removeClass("hidden"):$(".delivery-address").addClass("hidden")})}function ecInitCompanyData(){$(".cb-company-data").is(":checked")&&$(".company-data").removeClass("hidden");$(".cb-company-data").change(function(){this.checked?$(".company-data").removeClass("hidden"):$(".company-data").addClass("hidden")})}function ecInitToBasketPcsChange(){$(".to-basket-pcs .inc").off("click");$(".to-basket-pcs .inc").on("click",function(n){n.preventDefault();ecSetToBasketPcs(this,$(this).data("cnt").toString())});$(".to-basket-pcs .dec").off("click");$(".to-basket-pcs .dec").on("click",function(n){n.preventDefault();ecSetToBasketPcs(this,$(this).data("cnt").toString())})}function ecSetToBasketPcs(n,t){var r;if(t.search(",")>0){var i=$("#"+$(n).data("target")),u=ec100IntFromPcs(t),f=ec100IntFromPcs(i.html()),r=f+u;r>0&&i.html(ec100IntToPcs(r))}else{var i=$("#"+$(n).data("target")),u=parseInt(t),f=parseInt(i.html());(u>0||f>1)&&(r=f+u,i.html(r))}}function ec100IntFromPcs(n){return parseInt(n.replace(",",""))}function ec100IntToPcs(n){var t=n.toString();return n<100&&(t="0"+t),n<10&&(t="0"+t),t.substr(0,t.length-2)+","+t.substr(t.length-2,2)}function ecSetInBasketPcs(n,t){ecBeforeReloadPage();ecSetToBasketPcs(n,t);var i=$("#"+$(n).data("target")),r=i.data("quote"),u=i.attr("id"),f=i.data("info");ecSaveProduct2Quote(r,u,f)}function ecAddProduct2Quote(n,t,i,r,u,f){var e=$("#"+t).html();ecAddProductCnt2Quote(n,i,r,u,f,e)}function ecAddProductCnt2Quote(n,t,i,r,u,f){var e=n+"|"+t+"|"+i+"|"+f;$.ajax("/Umbraco/Ecommerce/QuoteApi/AddProductToQuote/?id="+e,{type:"POST",success:function(t){t.Result=="OK"?ecAfter_AddProductCnt2Quote(n,i,u,t):ecMessageError(r,t)},error:function(){ecMessageError(r,"Vznikla chyba pri pridávaní produktu do košíka. Skontrolujte prosím stav košíka.")}})}function ecAddProductContainers2Quote(n,t){$("#"+t+" .container-detail .cd-data").each(function(){var i=$(this),r=i.data("quoteid"),u=i.data("productid"),f=i.data("memberid"),e=i.data("cnt");ecAddProductCnt2Quote(r,u,f,n,t,e)})}function ecAfter_AddProductCnt2Quote(n,t,i,r){ecModalAddToBasketShow(n,t,i,r);ecUpdateQuoteCounter(n,t)}function ecSaveProduct2Quote(n,t,i){var r=$("#"+t).html(),u=n+"|"+t+"|"+r;$.ajax("/Umbraco/Ecommerce/QuoteApi/SaveProductToQuote/?id="+u,{type:"POST",success:function(n){n.Result=="OK"?ecReloadPage():ecMessageError(i,n.Result)},error:function(){ecMessageError(i,"Vznikla chyba pri ukladaní produktu do košíka.")}})}function ecRemoveProduct2Quote(n,t,i){var r=n+"|"+t;$.ajax("/Umbraco/Ecommerce/QuoteApi/RemoveProductToQuote/?id="+r,{type:"POST",success:function(n){n.Result=="OK"?(ecRemoveElement("pc-"+t),ecBeforeReloadPage(),ecReloadPage()):ecMessageError(i,n.Result)},error:function(){ecMessageError(i,"Vznikla chyba pri odstraňovaní produktu z košíka.")}})}function ecRemoveElement(n){$("#"+n).remove()}function ecUpdateQuoteCounter(n,t){var i=n;$.ajax("/Umbraco/Ecommerce/QuoteApi/BasketInfo/?id="+i,{type:"POST",success:function(i){i.Result=="OK"&&(ecSetQuoteCounterValues(i),ecUpdateBasketQuickView(n,t))},error:function(){}})}function ecSetQuoteCounterValues(n){$(".header-basket-pcs").html(n.ItemCnt)}function ecUpdateBasketQuickView(){}function ecUpdateBasketQuickViewItem(n){var t="<div class='item'><div class='img'>";return n.Img&&(t+="<img src='"+n.Img+"' />"),t+("<\/div><div class='txt'><div class='name'>"+n.Name+"<\/div><div class='with-vat'>"+n.PriceWithVat+"<span class='cnt'>"+n.Cnt+"x<\/span><\/div><div class='no-vat'>"+n.PriceNoVat+" bez DPH<\/div><\/div><\/div>")}function ecMessage(n,t){ecAfterReloadPage();var i=$("#"+n);i.stop();i.hide();i.html(t);i.fadeIn("slow").delay(3e3).fadeOut("slow")}function ecMessageSuccess(n,t){ecMessage(n,"<div class='alert alert-success fade in'><strong>Informácia<\/strong><br/>"+t+"<\/div>")}function ecMessageWarning(n,t){ecMessage(n,"<div class='alert alert-warning fade in'><strong>Upozornenie<\/strong><br/>"+t+"<\/div>")}function ecMessageError(n,t){ecMessage(n,"<div class='alert alert-danger fade in'><strong>Chyba<\/strong><br/>"+t+"<\/div>")}function ecModalAddToBasketShow(n,t,i,r){var f=$("#"+i+" .needs-container"),u=$("#"+i+" .known-container"),e=$("#"+i+" .unknown-container");$("#"+i+" .product-name").html(r.ProductName);f.hide();r.NeedsContainer=="1"&&(f.show(),u.hide(),e.hide(),r.IsContainerInfo=="1"?(ecModalAddToBasketShow_ContainersToAdd(n,t,u,r.ContainersToAdd),u.show()):e.show());$("#"+i+" .free-transport .cert-vert span").html(r.FreeTransport);ecModalShow(i)}function ecModalAddToBasketShow_ContainersToAdd(n,t,i,r){var f="",u;for(idx=0;idx<r.length;idx++)u=r[idx],f+="<div class='cd-name'>"+u.Name+"<\/div><div class='cd-img'><img src='"+u.Img+"' /><\/div><div class='cd-pcs'><span>Počet ks: <\/span><span class='cd-pcs-cnt'>"+u.Cnt+"<\/span><\/div><div class='cd-price'><span>Cena za ks bez DPH: <\/span><span class='cd-price-novat'>"+u.PriceNoVat+"<\/span><\/div><div class='cd-price'><span>Cena za ks s DPH: <\/span><span class='cd-price-withvat'>"+u.PriceWithVat+"<\/span><\/div><div class='cd-data' data-memberid='"+t+"' data-quoteid='"+n+"' data-productid='"+u.Id+"' data-cnt='"+u.Cnt+"'><\/div>";$(".container-detail").html(f)}function ecModalShow(n){$("#"+n).modal("show")}function ecModalHide(n){$("#"+n).modal("hide")}function ecAddProduct2Category(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/Product2CategoryApi/AddProductToCategory/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecRemoveProduct2Category(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/Product2CategoryApi/RemoveProductToCategory/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecRemoveProduct2Category(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/Product2CategoryApi/RemoveProductToCategory/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecMoveUpProduct2Category(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/Product2CategoryApi/MoveUpProductToCategory/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecMoveDownProduct2Category(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/Product2CategoryApi/MoveDownProductToCategory/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecMoveUpCategory(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/CategoryApi/MoveUpCategory/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecMoveDownCategory(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/CategoryApi/MoveDownCategory/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecMoveUpProduct(n){ecBeforeReloadPage();$.ajax("/Umbraco/Ecommerce/ProductApi/MoveUpProduct/?id="+n,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecMoveDownProduct(n){ecBeforeReloadPage();$.ajax("/Umbraco/Ecommerce/ProductApi/MoveDownProduct/?id="+n,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecMoveUpProductAttribute(n){ecBeforeReloadPage();$.ajax("/Umbraco/Ecommerce/ProductApi/MoveUpProductAttribute/?id="+n,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecMoveDownProductAttribute(n){ecBeforeReloadPage();$.ajax("/Umbraco/Ecommerce/ProductApi/MoveDownProductAttribute/?id="+n,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecCalculatePriceWithoutVat(n){var t=$(n),i=$("#"+t.data("vattarget")),r=t.val()+"|"+$("#"+t.data("vatrate")).val();$.ajax("/Umbraco/Ecommerce/ProductApi/CalculatePriceWithoutVat/?id="+r,{type:"POST",success:function(n){n.Status=="OK"?i.val(n.PriceWithoutVat):i.val("")},error:function(){i.val("")}})}function ecCategoryPublicFilterModel_PageSize(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/CategoryApi/CategoryPublicFilterModel_PageSize_Set/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecCategoryPublicFilterModel_ProductViewType(n,t){ecBeforeReloadPage();var i=n+"|"+t;$.ajax("/Umbraco/Ecommerce/CategoryApi/CategoryPublicFilterModel_ProductView_Set/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecCategoryPublicFilterModel_ProductSortType(n){ecBeforeReloadPage();var t=$(n),i=t.data("sessionid")+"|"+t.val();$.ajax("/Umbraco/Ecommerce/CategoryApi/CategoryPublicFilterModel_ProductSort_Set/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecCategoryPublicFilterModel_ProducerIsSelected(n){ecBeforeReloadPage();var t=$(n),i=t.data("sessionid")+"|"+t.data("producer")+"|"+(t.is(":checked")?"1":"0");$.ajax("/Umbraco/Ecommerce/CategoryApi/CategoryPublicFilterModel_ProducerIsSelected_Set/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecCategoryPublicFilterModel_AllProducers(n,t){ecBeforeReloadPage();var i=n+"|"+(t?"1":"0");$.ajax("/Umbraco/Ecommerce/CategoryApi/CategoryPublicFilterModel_ProducerIsSelected_All/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecCategoryPublicFilterModel_ProductAttributeIsSelected(n){ecBeforeReloadPage();var t=$(n),i=t.data("sessionid")+"|"+t.data("attribute")+"|"+(t.is(":checked")?"1":"0");$.ajax("/Umbraco/Ecommerce/CategoryApi/CategoryPublicFilterModel_ProductAttributeIsSelected_Set/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecCategoryPublicFilterModel_AllProdAttrs(n,t){ecBeforeReloadPage();var i=n+"|"+(t?"1":"0");$.ajax("/Umbraco/Ecommerce/CategoryApi/CategoryPublicFilterModel_ProductAttributeIsSelected_All/?id="+i,{type:"POST",success:function(){ecReloadPage()},error:function(){ecReloadPage()}})}function ecBeforeReloadPage(){$("html body").addClass("noscroll");$("html body").prepend("<div class='pending-reload'><div class='reload-msg'><i class='fas fa-spinner fa-spin fa-2x'><\/i><\/div><\/div>")}function ecAfterReloadPage(){$("html body").removeClass("noscroll");$(".pending-reload").remove()}function ecReloadPage(){location.reload(!0)}function ecDropRelatedProduct(n){$(n).parent().remove();ecReindexRelatedProducts()}function ecReindexRelatedProducts(){$(".related-products .related-product").each(function(n,t){var i=$(t).find(".pkrelated");i.attr("id","ProductRelations_Items_"+n+"__PkProductRelated");i.attr("name","ProductRelations.Items["+n+"].PkProductRelated")})}function ecRelatedProductAutocomplete(n,t){$(n).autoComplete({minChars:1,cache:!1,delay:200,source:function(n,i){$(t).removeClass("hidden");try{ec_relatedprodsearch_xhr.abort()}catch(r){}ec_relatedprodsearch_xhr=$.ajax("/Umbraco/Ecommerce/ProductApi/SearchProduct?id="+n,{type:"POST",success:function(n){i(n);$(t).addClass("hidden")}})},renderItem:function(n){return'<div class="autocomplete-suggestion" data-key="'+n.Key+'" data-code="'+n.Code+'" data-name="'+n.Name+'">'+ecRelatedProductSearchResultItem(n)+"<\/div>"},onSelect:function(n,t,i){ecAddRelatedProduct(i)}})}function ecRelatedProductSearchResultItem(n){return n.Msg?"<div class='msg'>"+n.Msg+"<\/div>":"<div class='title'>"+n.Code+" "+n.Name+"<\/div>"}function ecAddRelatedProduct(n){if(!n.Msg){var t=n.data("key"),i=n.data("code"),r=n.data("name"),u="<div class='related-product'><input class='hidden pkrelated' id='pkrelatednewid' name='pkrelatednewname' readonly='readonly' type='text' value='"+t+"' /><a href='#' onclick='ecDropRelatedProduct(this);return false;' class='drop-relation-btn' title='Odstrániť súvisiaci produkt'><i class='fa fa-trash-alt'><\/i><\/a><span class='code'>"+i+"<\/span><span class='name'>"+r+"<\/span><\/div>";$(".related-product-add").before(u);ecReindexRelatedProducts()}}function ecQuoteProductAutocomplete(n,t){$(n).autoComplete({minChars:1,cache:!1,delay:200,source:function(n,i){$(t).removeClass("hidden");try{ec_relatedprodsearch_xhr.abort()}catch(r){}ec_relatedprodsearch_xhr=$.ajax("/Umbraco/Ecommerce/ProductApi/SearchProduct?id="+n,{type:"POST",success:function(n){i(n);$(t).addClass("hidden")}})},renderItem:function(n){return'<div class="autocomplete-suggestion" data-key="'+n.Key+'" data-code="'+n.Code+'" data-name="'+n.Name+'" data-unitname="'+n.UnitName+'">'+ecQuoteProductSearchResultItem(n)+"<\/div>"},onSelect:function(n,t,i){ecAddQuoteProduct(i)}})}function ecQuoteProductSearchResultItem(n){return n.Msg?"<div class='msg'>"+n.Msg+"<\/div>":"<div class='title'>"+n.Code+" "+n.Name+"<\/div>"}function ecAddQuoteProduct(n){n.Msg||($("#PkProduct").val(n.data("key")),$("#ItemCode").val(n.data("code")),$("#ItemName").val(n.data("name")),$(".form-item.item-pcs label").html(n.data("unitname")),$(".form-item.item-pcs").removeClass("hidden"))}function ecProductPriceAutocomplete(n,t,i){$(n).autoComplete({minChars:1,cache:!1,delay:200,source:function(n,i){$(t).removeClass("hidden");try{ec_prodpricesearch_xhr.abort()}catch(r){}ec_prodpricesearch_xhr=$.ajax("/Umbraco/Ecommerce/ProductApi/SearchProduct?id="+n,{type:"POST",success:function(n){i(n);$(t).addClass("hidden")}})},renderItem:function(n){return'<div class="autocomplete-suggestion" data-key="'+n.Key+'" data-code="'+n.Code+'" data-name="'+n.Name+'">'+ecProductPriceSearchResultItem(n)+"<\/div>"},onSelect:function(n,t,r){$("#"+i).attr("href","/moj-ucet/produkty/ceny?productId="+r.data("key"));document.getElementById(i).click()}})}function ecProductPriceSearchResultItem(n){return n.Msg?"<div class='msg'>"+n.Msg+"<\/div>":"<div class='title'>"+n.Code+" "+n.Name+"<\/div>"}function acProductToCategoryChange(n){n.checked?ecAddProductToCategory($(n).data("key")):ecRemoveProductFromCategory($(n).data("key"))}function ecAddProductToCategory(n){var t="<div class='product-in-category'><input class='hidden pkcategory' id='pkcategorynewid' name='pkcategorynewid' readonly='readonly' type='text' value='"+n+"' /><\/div>";$(".product-in-categories .category-tree").before(t);ecReindexProductCategories()}function ecRemoveProductFromCategory(n){$('.pkcategory:input[value="'+n+'"]').parent().remove();ecReindexProductCategories()}function ecReindexProductCategories(){$(".product-in-categories .product-in-category").each(function(n,t){var i=$(t).find(".pkcategory");i.attr("id","ProductCategories_SelectedCategories_"+n+"_");i.attr("name","ProductCategories.SelectedCategories["+n+"]")})}function ecCategoryTreeClick(n){var t=$(n).parent().parent();t.hasClass("closed")?t.removeClass("closed"):t.addClass("closed")}function ecSubmitBasketDeliveryData(n,t,i,r,u){$("#"+i).val($("input[name="+t+"]:checked").val());$("#"+u).val($("input[name="+r+"]:checked").val());document.getElementById(n).click()}function naplnspajzuTogglePageNbInput_CategoryDetailProductsPager(n){var i=$(n),t=i.next();t.hasClass("hidden")?(t.removeClass("hidden"),t.find("input").focus()):t.addClass("hidden")}function naplnspajzuLoadPageNb_CategoryDetailProductsPager(n,t){var i=$(n),r=i.prev().val(),u=i.attr("href").replace(t,r);i.attr("href",u)}function naplnspajzuQuoteStateChange(n){quoteAdminGetRecords_CurrentQuoteStateLink=$(n);$("#modalQuoteStateChangeId_QuoteId").html(quoteAdminGetRecords_CurrentQuoteStateLink.data("quoteid"));$("#modalQuoteStateChangeId_Date").html(quoteAdminGetRecords_CurrentQuoteStateLink.data("quotedate"));$("#modalQuoteStateChangeId_Price").html(quoteAdminGetRecords_CurrentQuoteStateLink.data("quoteprice"));var t=quoteAdminGetRecords_CurrentQuoteStateLink.html();$(".btn-quote-state").removeClass("selected");$(".btn-quote-state").each(function(){var n=$(this);n.html()==t&&n.addClass("selected")});ecModalShow("modalQuoteStateChangeId")}function naplnspajzuQuoteSetState(n){var t=quoteAdminGetRecords_CurrentQuoteStateLink.data("quotepk"),i=$(n).data("statekey"),r=t+"|"+i;$.ajax("/Umbraco/Ecommerce/QuoteApi/ChangeQuoteState/?id="+r,{type:"POST",success:function(n){console.log(n);n.Result=="OK"&&quoteAdminGetRecords_CurrentQuoteStateLink.html(n.StateName);ecModalHide("modalQuoteStateChangeId")},error:function(){ecModalHide("modalQuoteStateChangeId")}})}function ecInitProductSearchUI(n){ecProductSearchManager.url=n;ecProductSearchManager.run();var t=$(".product-search .search-request input");if(t.length>0){t.on("keyup",function(){ecProductSearch()});t.focus()}if($(".category-detail-search").length>0){$("a.menu-item-search").on("click",function(){return ecProductSearchOpen(),!1});$.cookie("naplnspajzu_productsearch_open")=="1"&&($.cookie("naplnspajzu_productsearch_open","0",{expires:4e4,path:"/"}),ecProductSearchOpen())}else $("a.menu-item-search").on("click",function(){return $.cookie("naplnspajzu_productsearch_open","1",{expires:4e4,path:"/"}),!0})}function ecProductSearch(){var n=$(".product-search .search-request input").val(),t;n&&n.length>0?(t=new FormData,t.append("id",n),ecProductSearchManager.addReq({url:ecProductSearchManager.url,type:"POST",contentType:!1,processData:!1,data:t,beforeSend:function(){ecBeforeStartProductSearch()},success:function(n){$(".product-search .search-result").html(n);ecInitToBasketPcsChange();ecAfterFinishProductSearch()},error:function(){ecAfterFinishProductSearch()}})):$(".product-search .search-result").html("")}function ecBeforeStartProductSearch(){$(".product-search .search-result").addClass("hidden");$(".product-search .search-pending").removeClass("hidden")}function ecAfterFinishProductSearch(){$(".product-search .search-result").removeClass("hidden");$(".product-search .search-pending").addClass("hidden")}function ecProductSearchOpen(){$(".category-detail-products").addClass("hidden");$(".category-detail-search").removeClass("hidden");var n=$(".category-detail-search .search-request input");n.val("");n.focus()}function ecProductSearchClose(){$(".category-detail-search").addClass("hidden");$(".category-detail-search .search-result").html("");$(".category-detail-products").removeClass("hidden")}function ecMoveProductPromoInit(n){$("#"+n).scroll(function(){var t=$(this).scrollLeft(),i=this.scrollWidth-this.clientWidth;t>10?$("#"+n+"-move-prev").removeClass("hidden"):$("#"+n+"-move-prev").addClass("hidden");t<i-10?$("#"+n+"-move-next").removeClass("hidden"):$("#"+n+"-move-next").addClass("hidden")})}function ecMoveProductPromo(n,t){var i=$(n),r=$("#"+i.attr("data-target")),u=r.scrollLeft(),f=$("#"+i.attr("data-target")+" .col-md-3").first(),e=f.width()+34,o=u+t*e;r.animate({scrollLeft:o},500)}function ecMoveProductPromoNext(n){ecMoveProductPromo(n,1)}function ecMoveProductPromoPrev(n){ecMoveProductPromo(n,-1)}function ecAddProduct2Favorite(n,t,i){var r=n+"|"+t;$.ajax("/Umbraco/Ecommerce/FavoriteProductApi/AddProductToFavorite/?id="+r,{type:"POST",success:function(n){n.Result=="OK"?ecMessageSuccess(i,"Produkt pridaný medzi obľúbené."):ecMessageError(i,n.Result)},error:function(){ecMessageError(i,"Vznikla chyba pri pridávaní produktu medzi obľúbené.")}})}function ecRemoveProduct2Favorite(n,t,i){ecBeforeReloadPage();var r=n+"|"+t;$.ajax("/Umbraco/Ecommerce/FavoriteProductApi/RemoveProductToFavorite/?id="+r,{type:"POST",success:function(n){n.Result=="OK"?ecReloadPage():(ecAfterReloadPage(),ecMessageError(i,n.Result))},error:function(){ecAfterReloadPage();ecMessageError(i,"Vznikla chyba pri odstraňovaní produktu z obľúbených.")}})}var ec_relatedprodsearch_xhr,ec_quoteprodsearch_xhr,ec_prodpricesearch_xhr,quoteAdminGetRecords_CurrentQuoteStateLink,ecProductSearchManager;$(document).ready(function(){ecClearSessionData();ecInitDeliveryAddress();ecInitCompanyData();$(".eccd-pvt").change(function(){ecCategoryPublicFilterModel_ProductViewType(this)});$(".eccd-pst").change(function(){ecCategoryPublicFilterModel_ProductSortType(this)});$(".eccd-prodsel").change(function(){ecCategoryPublicFilterModel_ProducerIsSelected(this)});$(".eccd-attrsel").change(function(){ecCategoryPublicFilterModel_ProductAttributeIsSelected(this)});$(".calc-vat").on("keyup",function(){ecCalculatePriceWithoutVat(this)});$(".calc-vatrate").on("keyup",function(){$(".calc-vat").each(function(){ecCalculatePriceWithoutVat(this)})});ecInitToBasketPcsChange();$(".basket-product-item .product-pcs .inc").click(function(n){n.preventDefault();ecSetInBasketPcs(this,$(this).data("cnt").toString())});$(".basket-product-item .product-pcs .dec").click(function(n){n.preventDefault();ecSetInBasketPcs(this,$(this).data("cnt").toString())});$(".related-product a.drop-relation-btn").click(function(n){n.preventDefault();ecDropRelatedProduct(this)});ecRelatedProductAutocomplete('input[name="relatedProductSearch"]',"#spinRelatedProductSearch");ecProductPriceAutocomplete('input[name="productPriceSearch"]',"#spinProductPriceSearch","changeProductPriceLink");ecQuoteProductAutocomplete('input[name="quoteProductSearch"]',"#spinQuoteProductSearch");$(".pct-cb").change(function(){acProductToCategoryChange(this)});$(".category-tree .fa").click(function(n){n.preventDefault();ecCategoryTreeClick(this)})});ecProductSearchManager=function(){var n=[];return{saved:{},addReq:function(t){n.push(t)},removeReq:function(t){$.inArray(t,n)>-1&&n.splice($.inArray(t,n),1)},run:function(){var t=this,i;n.length?(i=n[0].complete,n[0].complete=function(){typeof i=="function"&&i();n.shift();t.run.apply(t,[])},$.ajax(n[0])):t.tid=setTimeout(function(){t.run.apply(t,[])},1e3)},stop:function(){n=[];clearTimeout(this.tid)}}}();